<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XJS / XGridLayout</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <script src="xjs.js" type="text/javascript"></script>
    <script src="xgridlayout.js" type="text/javascript"></script>
</head>

<body style="margin: 0; overflow: hidden;">

</body>

</html>

<script>
    var xlo = new xgridlayout("grid");
    
    var mainCol = xgridCol.get(xlo, "auto", { backgroundColor: "#353535", color: "white", padding: "10px" }, "main");
    mainCol.el().setProperty("innerText", xjs.loremipsum(1000));

    xlo.addRows(
        xgridRow.get(xlo, "auto").addCols(
            xgridCol.get(xlo, "300px", { backgroundColor: "#202124", borderRight: "1px solid #353535" }, "sidebar").add(
                xjs.withnew(xjs.htmlElements.button, "sidebar_toggle_btn")
                    .setSize(30, 30)
                    .setStyles({ float: "right", margin: "5px", cursor: "pointer" })
                    .bgColor("#353535")
                    .append(
                        xjs.withnew(xjs.htmlElements.i).setStyle({ color: "white" }).setClass("fas fa-close")
                    )
                    .bindEvent("click", function () {
                        let sidebar = xjs.with("sidebar");
                        if (sidebar.getWidth(true) == 300) {
                            //sidebar.setWidth(40);
                            xjs.animate([sidebar], [{ width: { start: 300, end: 40, ease: xjs.easeTypes.easeInOut }, }], 100);
                            xjs.with("sidebar_toggle_btn").getChild(0).setClass("fas fa-bars    ");
                        } else {
                            //sidebar.setWidth(300);
                            xjs.animate([sidebar], [{ width: { start: 40, end: 300, ease: xjs.easeTypes.easeInOut }, }], 100);
                            xjs.with("sidebar_toggle_btn").getChild(0).setClass("fas fa-close");
                        }
                    })
            ),
            xgridCol.get(xlo, "auto", {}).addRows(
                xgridRow.get(xlo, "80px").addCols(
                    xgridCol.get(xlo, "auto", { backgroundColor: "black", borderBottom: "1px solid #353535" }, "header"),
                ),
                xgridRow.get(xlo, "auto").addCols(
                    xgridCol.get(xlo, "auto", { backgroundColor: "#353535", color: "white" }, "main")
                        .el()
                            .setProperty("innerText", xjs.loremipsum(1000))
                            .setStyles({ padding: "10px" })
                    .parent()
                    //mainCol
                )
            )
        ),
        xgridRow.get(xlo, "80px").addCols(
            xgridCol.get(xlo, "auto", { backgroundColor: "black", borderTop: "1px solid #353535" }, "footer"),
        )
    ).resizeGrid();

    //menu option base element
    var li = xjs.withnew(xjs.htmlElements.li).setStyles({ 
        listStyle: "none", padding: "5px", paddingLeft: "12px", cursor: "pointer", height: "30px",
        display: "flex",
        alignItems: "center"
    }).setClass("menu_option").setAttribute("title", "${menuStr}")
    .append(
        xjs.withnew(xjs.htmlElements.i).setStyle({ color: "white", marginRight: "10px" }).setClass("${menuIcon}")
    ).append(
        xjs.withnew(xjs.htmlElements.aButton, "btn").setStyles({ color: "white", cursor: "pointer", textDecoration: "none", marginLeft: "20px" }).setText("${menuStr}")
    ).bindEvent("mouseover", function () {
        this.bgColor("#aaaaaa");
    }).bindEvent("mouseout", function () {
        if(this.getProperty("selected")== true){
            this.bgColor("#8f7429");
        }else{
            this.bgColor("transparent");
        }
    }).bindEvent("click", function () {
            xjs.with(".menu_option").forEach(el => {
                el.bgColor("transparent");
                el.setProperty("selected", false);
            });
            this.bgColor("#8f7429");
            this.setProperty("selected", true);

            xjs.with("main").setText("").append(
                xjs.withnew(xjs.htmlElements.iframe).setStyles({ border: "0px" }).setSize("100%", "100%").setAttribute("src", this.getVariable("menuUrl"))
            );
    }); 
    xjs.registerComponent("menu_option", li);

    xjs.with("sidebar").append(xjs.withnew(xjs.htmlElements.panel, "sidebar_content").pos(0, 85).setSize(300, 300).append(
        //add menu options
        xjs.withnew(xjs.htmlElements.ul, "menu").setStyles({ padding: "0px", margin: "0px" })
            .append(xjs.getComponent("menu_option", true, {"menuStr": "XJS Showcase", "menuIcon": "fas fa-images", "menuUrl": "./xjs.html"}))
            .append(xjs.getComponent("menu_option", true, {"menuStr": "GridLayout 2", "menuIcon": "fas fa-table", "menuUrl": "./xgridlayout2.html"}))
            .append(xjs.getComponent("menu_option", true, {"menuStr": "GridLayout 3", "menuIcon": "fas fa-table-columns", "menuUrl": "./xgridlayout3.html"}))
            .append(xjs.getComponent("menu_option", true, {"menuStr": "GridLayout 4", "menuIcon": "fas fa-table", "menuUrl": "./xgridlayout4.html"}))
            .append(xjs.getComponent("menu_option", false, {"menuStr": "Option 5", "menuIcon": "fas fa-ellipsis-v"})
                .bindEvent("mouseover", function () {
                    this.bgColor("#aaaaaa");
                }).bindEvent("mouseout", function () {
                    this.bgColor("transparent");
                }))
    ));

    xjs.with("header").append(
        xjs.withnew(xjs.htmlElements.h1).setText("XJS / XGridLayout - Showcase").setStyle({ color: "white", textAlign: "center", fontFamily: "monospace" })
    );
</script>